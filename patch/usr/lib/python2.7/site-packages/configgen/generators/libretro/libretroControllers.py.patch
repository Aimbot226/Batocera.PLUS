##
## Desativa a emulação do controle analógico para o d-pad.
## Causa problemas com sistemas que usam o direcional digital para funções secundárias.
##
--- libretroControllers.py.original
+++ libretroControllers.py.modificado
@@ -123,12 +123,12 @@
 
 # return the retroarch analog_dpad_mode
 def getAnalogMode(controller, system):
-    # if system.name != 'psx':
-    for dirkey in retroarchdirs:
-        if dirkey in controller.inputs:
-            if (controller.inputs[dirkey].type == 'button') or (controller.inputs[dirkey].type == 'hat'):
-                return '1'
-    return '0'
+    if system.name != 'psp' and system.name != 'pspminis' and system.name != '3ds':
+        for dirkey in retroarchdirs:
+            if dirkey in controller.inputs:
+                if (controller.inputs[dirkey].type == 'button') or (controller.inputs[dirkey].type == 'hat'):
+                    return '1'
+        return '0'
 
 
 # return the playstation analog mode for a controller
